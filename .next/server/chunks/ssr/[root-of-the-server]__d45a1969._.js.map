{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../src/app/play/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useGameState } from \"@/components/game-state-provider\";\nimport { QUESTIONS_BY_ID } from \"@/content/questions\";\n\nexport default function PlayPage() {\n  const router = useRouter();\n  const { state, ready, answerQuestion } = useGameState();\n  const [customAnswer, setCustomAnswer] = useState(\"\");\n\n  useEffect(() => {\n    if (!ready) return;\n    if (!state?.name || state.questionIds.length === 0) {\n      router.replace(\"/\");\n    }\n  }, [ready, state, router]);\n\n  useEffect(() => {\n    if (!ready) return;\n    if (state && state.answers.length >= 5) {\n      router.replace(\"/reveal\");\n    }\n  }, [ready, state, router]);\n\n  const currentIndex = state?.answers.length ?? 0;\n  const currentQuestion = useMemo(() => {\n    if (!state) return null;\n    const questionId = state.questionIds[currentIndex];\n    return questionId ? QUESTIONS_BY_ID.get(questionId) ?? null : null;\n  }, [state, currentIndex]);\n\n  const handleSelect = (option: string) => {\n    if (!currentQuestion) return;\n    answerQuestion({\n      questionId: currentQuestion.id,\n      selectedOptionText: option,\n    });\n    setCustomAnswer(\"\");\n    if ((state?.answers.length ?? 0) + 1 >= 5) {\n      router.push(\"/reveal\");\n    }\n  };\n\n  const handleCustomSubmit = () => {\n    const trimmed = customAnswer.trim();\n    if (!trimmed || !currentQuestion) return;\n    answerQuestion({\n      questionId: currentQuestion.id,\n      customText: trimmed,\n    });\n    setCustomAnswer(\"\");\n    if ((state?.answers.length ?? 0) + 1 >= 5) {\n      router.push(\"/reveal\");\n    }\n  };\n\n  if (!ready || !state || !currentQuestion) {\n    return (\n      <main className=\"min-h-screen flex items-center justify-center px-4\">\n        <p className=\"text-white/70\">Loading festive chaos...</p>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"min-h-screen px-4 py-10 flex items-center justify-center\">\n      <div className=\"w-full max-w-2xl rounded-[32px] border border-white/10 bg-black/50 p-8 shadow-[0_30px_60px_rgba(0,0,0,0.45)] backdrop-blur\">\n        <div className=\"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-amber-200/80\">\n          <span>Question {currentIndex + 1} / 5</span>\n          <span>{state.name}</span>\n        </div>\n\n        <h2 className=\"mt-6 text-3xl sm:text-4xl font-semibold font-[var(--font-heading)] text-amber-50\">\n          {currentQuestion.prompt}\n        </h2>\n\n        <div className=\"mt-6 grid gap-3\">\n          {currentQuestion.options.map((option) => (\n            <button\n              key={option}\n              type=\"button\"\n              onClick={() => handleSelect(option)}\n              className=\"w-full rounded-2xl border border-white/10 bg-white/5 px-5 py-4 text-left text-base text-white/90 transition hover:-translate-y-0.5 hover:bg-white/10\"\n            >\n              {option}\n            </button>\n          ))}\n        </div>\n\n        <div className=\"mt-8 border-t border-white/10 pt-6\">\n          <p className=\"text-sm uppercase tracking-[0.25em] text-white/60\">\n            Or type your own\n          </p>\n          <textarea\n            value={customAnswer}\n            onChange={(event) => setCustomAnswer(event.target.value)}\n            rows={3}\n            className=\"mt-3 w-full resize-none rounded-2xl border border-white/20 bg-black/40 px-4 py-3 text-base text-white placeholder:text-white/30\"\n            placeholder=\"Your chaotic holiday confession...\"\n          />\n          <button\n            type=\"button\"\n            onClick={handleCustomSubmit}\n            disabled={!customAnswer.trim()}\n            className=\"mt-4 w-full rounded-2xl bg-emerald-300 px-6 py-4 text-lg font-semibold text-black shadow-[0_15px_30px_rgba(66,200,140,0.25)] transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-40\"\n          >\n            Submit Answer\n          </button>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}