{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/.pnpm/next%4016.1.0_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/components/game-state-provider.tsx","../../../../src/content/questions.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport type { GameState, XmasAnswer } from \"@/types/game\";\nimport { QUESTIONS } from \"@/content/questions\";\n\nconst STORAGE_KEY = \"whoAreYouXmasState\";\nconst QUESTIONS_PER_GAME = 5;\n\ntype GameStateContextValue = {\n  state: GameState | null;\n  ready: boolean;\n  startGame: (name: string) => void;\n  answerQuestion: (answer: XmasAnswer) => void;\n  resetGame: () => void;\n};\n\nconst GameStateContext = createContext<GameStateContextValue | undefined>(\n  undefined,\n);\n\nconst pickRandomQuestionIds = () => {\n  const shuffled = [...QUESTIONS].sort(() => Math.random() - 0.5);\n  return shuffled.slice(0, QUESTIONS_PER_GAME).map((question) => question.id);\n};\n\nconst isValidState = (value: unknown): value is GameState => {\n  if (!value || typeof value !== \"object\") return false;\n  const state = value as GameState;\n  return (\n    typeof state.name === \"string\" &&\n    Array.isArray(state.questionIds) &&\n    Array.isArray(state.answers)\n  );\n};\n\nexport function GameStateProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [state, setState] = useState<GameState | null>(null);\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    const stored = sessionStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored) as unknown;\n        if (isValidState(parsed)) {\n          setState(parsed);\n        }\n      } catch {\n        setState(null);\n      }\n    }\n    setReady(true);\n  }, []);\n\n  useEffect(() => {\n    if (!ready) return;\n    if (state) {\n      sessionStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n    } else {\n      sessionStorage.removeItem(STORAGE_KEY);\n    }\n  }, [ready, state]);\n\n  const startGame = useCallback((name: string) => {\n    const trimmed = name.trim();\n    if (!trimmed) return;\n    setState({\n      name: trimmed,\n      questionIds: pickRandomQuestionIds(),\n      answers: [],\n    });\n  }, []);\n\n  const answerQuestion = useCallback(\n    (answer: XmasAnswer) => {\n      setState((prev) => {\n        if (!prev) return prev;\n        const filtered = prev.answers.filter(\n          (existing) => existing.questionId !== answer.questionId,\n        );\n        return {\n          ...prev,\n          answers: [...filtered, answer],\n        };\n      });\n    },\n    [setState],\n  );\n\n  const resetGame = useCallback(() => {\n    setState(null);\n  }, []);\n\n  const value = useMemo(\n    () => ({ state, ready, startGame, answerQuestion, resetGame }),\n    [state, ready, startGame, answerQuestion, resetGame],\n  );\n\n  return (\n    <GameStateContext.Provider value={value}>\n      {children}\n    </GameStateContext.Provider>\n  );\n}\n\nexport function useGameState() {\n  const context = useContext(GameStateContext);\n  if (!context) {\n    throw new Error(\"useGameState must be used within GameStateProvider\");\n  }\n  return context;\n}\n","import type { XmasQuestion } from \"@/types/game\";\n\nexport const QUESTIONS: XmasQuestion[] = [\n  {\n    id: \"q1\",\n    prompt: \"You show up to the holiday party already late. What is your excuse?\",\n    options: [\"Stuck in a chimney crawlspace\", \"Got lost in a mall parking lot\", \"I was busy saving a reindeer\"],\n  },\n  {\n    id: \"q2\",\n    prompt: \"Pick your preferred holiday snack.\",\n    options: [\"Peppermint bark with attitude\", \"A suspiciously festive fruitcake\", \"Cold pizza in a Santa hat\"],\n  },\n  {\n    id: \"q3\",\n    prompt: \"Your gift wrapping style is best described as...\",\n    options: [\"Beautiful chaos and tape\", \"Minimalist, borderline threatening\", \"I don’t wrap. I haunt.\"],\n  },\n  {\n    id: \"q4\",\n    prompt: \"Someone puts on carols. Your move?\",\n    options: [\"Sing too loud on purpose\", \"Lip sync and judge quietly\", \"Swap it for ominous bells\"],\n  },\n  {\n    id: \"q5\",\n    prompt: \"You find a list labeled ‘Naughty.’ What do you do?\",\n    options: [\"Update it with receipts\", \"Pretend you never saw it\", \"Add my own name for sport\"],\n  },\n  {\n    id: \"q6\",\n    prompt: \"Choose your holiday transportation.\",\n    options: [\"Sleigh with questionable safety\", \"Snowmobile with fake antlers\", \"Public transit, but it’s haunted\"],\n  },\n  {\n    id: \"q7\",\n    prompt: \"What’s your role in group photo time?\",\n    options: [\"Center stage, obviously\", \"Side-eye in the back row\", \"Photobomb from the shadows\"],\n  },\n  {\n    id: \"q8\",\n    prompt: \"A child asks if you’re Santa. You reply…\",\n    options: [\"Ho ho... maybe\", \"Absolutely not, move along\", \"I’m Santa’s HR\"],\n  },\n  {\n    id: \"q9\",\n    prompt: \"Pick a holiday smell.\",\n    options: [\"Cinnamon, pine, mild panic\", \"Burnt sugar and regret\", \"Wet wool and mystery\"],\n  },\n  {\n    id: \"q10\",\n    prompt: \"You’ve been tasked with decorating the tree. You...\",\n    options: [\"Create a glitter explosion\", \"Hang one ornament and leave\", \"Replace the star with a skull\"],\n  },\n  {\n    id: \"q11\",\n    prompt: \"The office Secret Santa is happening. Your strategy?\",\n    options: [\"Overdeliver, become legend\", \"Regift like a pro\", \"Forget the date, improvise\"],\n  },\n  {\n    id: \"q12\",\n    prompt: \"Which holiday movie energy do you embody?\",\n    options: [\"Chaotic heartwarming montage\", \"Brooding misunderstood villain\", \"Animated chaos with a moral\"],\n  },\n  {\n    id: \"q13\",\n    prompt: \"Pick a holiday pet.\",\n    options: [\"Reindeer with attitude\", \"Overcaffeinated elf dog\", \"Silent snow owl\"],\n  },\n  {\n    id: \"q14\",\n    prompt: \"A snowball fight breaks out. You...\",\n    options: [\"Lead the charge\", \"Build a tactical fort\", \"Disappear, reappear elsewhere\"],\n  },\n  {\n    id: \"q15\",\n    prompt: \"Someone says ‘holiday cheer.’ Your reaction?\",\n    options: [\"Pour it into a mug\", \"Nod politely\", \"Ask for a refund\"],\n  },\n  {\n    id: \"q16\",\n    prompt: \"Your stocking is filled with...\",\n    options: [\"Glitter, snacks, chaos\", \"A single ominous bell\", \"A note that just says ‘soon’\"],\n  },\n  {\n    id: \"q17\",\n    prompt: \"Pick a Christmas job.\",\n    options: [\"Sleigh mechanic\", \"Mall Santa’s lawyer\", \"Night watch at the toy factory\"],\n  },\n  {\n    id: \"q18\",\n    prompt: \"You’re in charge of the holiday playlist. You choose...\",\n    options: [\"Bangers only\", \"Lo-fi holiday doom\", \"Whatever makes people nervous\"],\n  },\n  {\n    id: \"q19\",\n    prompt: \"The eggnog hits. What happens next?\",\n    options: [\"I host a dance-off\", \"I nap under the tree\", \"I start a polite revolution\"],\n  },\n  {\n    id: \"q20\",\n    prompt: \"You see a car covered in reindeer antlers. Thoughts?\",\n    options: [\"Iconic, no notes\", \"Crime, but festive\", \"A cry for help\"],\n  },\n  {\n    id: \"q21\",\n    prompt: \"Pick a winter weapon.\",\n    options: [\"Candy cane staff\", \"Frozen sarcasm\", \"Icicle spear (decorative)\"],\n  },\n  {\n    id: \"q22\",\n    prompt: \"Your ideal holiday weather is...\",\n    options: [\"Gentle snow and drama\", \"Blizzard with perfect visibility\", \"Apocalyptic, but twinkly\"],\n  },\n  {\n    id: \"q23\",\n    prompt: \"Someone offers you fruitcake. You...\",\n    options: [\"Accept, smile, plot\", \"Pass it down the line\", \"Use it as a doorstop\"],\n  },\n  {\n    id: \"q24\",\n    prompt: \"You’re asked to say grace before dinner. You...\",\n    options: [\"Go heartfelt and long\", \"Keep it short and spooky\", \"Wing it with confidence\"],\n  },\n];\n\nexport const QUESTIONS_BY_ID = new Map(QUESTIONS.map((question) => [question.id, question]));\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}